<Window x:Class="Euterpe.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Euterpe"
        Width="1100"
        Height="750"
        Background="#121212">

    <DockPanel>

        <!-- PLAYER BAR -->
        <Grid DockPanel.Dock="Bottom" Height="110" Background="#181818" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="220"/>
            </Grid.ColumnDefinitions>

            <Image x:Name="CurrentCover" Width="70" Height="70" Margin="10"/>

            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock x:Name="TrackNameText" Foreground="White" FontSize="14" Margin="0,0,0,6"/>
                <Slider x:Name="ProgressSlider"
                        Minimum="0"
                        ValueChanged="ProgressSlider_ValueChanged"
                        PreviewMouseDown="ProgressSlider_PreviewMouseDown"
                        PreviewMouseUp="ProgressSlider_PreviewMouseUp"/>
                <TextBlock x:Name="TimeText" Foreground="Gray" FontSize="11" HorizontalAlignment="Right"/>
            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Button Content="⏮" Width="50" Click="Prev_Click"/>
                <Button Content="⏯" Width="60" Margin="10,0" Click="PlayPause_Click"/>
                <Button Content="⏭" Width="50" Click="Next_Click"/>
            </StackPanel>
        </Grid>

        <!-- GRID DE ÁLBUNS -->
        <ScrollViewer>
            <ItemsControl x:Name="AlbumsGrid">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <!-- Border com tamanho fixo -->
                        <Border Width="160" Height="220" CornerRadius="6" Margin="6">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Cursor" Value="Hand"/>
                                    <Style.Triggers>
                                        <!-- Álbum tocando -->
                                        <DataTrigger Binding="{Binding IsPlaying}" Value="True">
                                            <Setter Property="Background" Value="#1E3A8A"/>
                                        </DataTrigger>
                                        <!-- Hover -->
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#2C5282"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>

                            <StackPanel MouseLeftButtonUp="Album_Click">
                                <Image Width="150" Height="150" Source="{Binding CoverPath}"/>
                                <TextBlock Text="{Binding Name}" Foreground="White" TextAlignment="Center" Margin="0,6,0,0" TextWrapping="Wrap"/>
                                <TextBlock Text="{Binding Artist}" Foreground="Gray" FontSize="11" TextAlignment="Center" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

    </DockPanel>
</Window>
